let vi_vpsw_click={attribute_name:"",attribute_value:"",deselect:!1};function viwpvs_frontend_init(){jQuery(".vi_wpvs_variation_form:not(.vi_wpvs_variation_form_init)").each(function(){jQuery(this).addClass("vi_wpvs_variation_form_init").viwpvs_woo_product_variation_swatches()}),jQuery(".variations_form:not(.vi_wpvs_variation_form),.variations_form:not(.vi_wpvs_variation_form_init)").each(function(){jQuery(this).addClass("vi_wpvs_variation_form vi_wpvs_variation_form_init").viwpvs_woo_product_variation_swatches()})}jQuery(window).on("elementor/frontend/init",()=>{"use strict";viwpvs_frontend_init()}),jQuery(document).ready(function($){"use strict";jQuery(document).on("click",".vi-wpvs-variation-style",function(a){jQuery(".vi-wpvs-variation-wrap-option-available").remove(),jQuery(".vi-wpvs-variation-wrap-option.vi-wpvs-variation-wrap-option-show").removeClass("vi-wpvs-variation-wrap-option-show"),a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation()}),jQuery(document).on("click","body",function(a){jQuery(".vi-wpvs-variation-wrap-option-available").remove(),jQuery(".vi-wpvs-variation-wrap-option.vi-wpvs-variation-wrap-option-show").removeClass("vi-wpvs-variation-wrap-option-show")}),jQuery(document).on("click",".vi-wpvs-variation-wrap-option-available .vi-wpvs-option-wrap",function(a){if(a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation(),jQuery(this).hasClass("vi-wpvs-option-wrap-disable"))return!1;let b=jQuery(".vi-wpvs-variation-wrap-option-available .vi-wpvs-option-wrap").index(jQuery(this));jQuery(".vi-wpvs-variation-wrap-option.vi-wpvs-variation-wrap-option-show").removeClass("vi-wpvs-variation-wrap-option-show").find(".vi-wpvs-option-wrap").eq(b).trigger("click"),jQuery(".vi-wpvs-variation-wrap-option-available").remove()}),jQuery(document).on("mouseenter",".vi-wpvs-variation-wrap-option-available .vi-wpvs-option-wrap",function(a){jQuery(this).hasClass("vi-wpvs-option-wrap-selected")||jQuery(this).hasClass("vi-wpvs-option-wrap-disable")||jQuery(this).hasClass("vi-wpvs-product-link")||jQuery(this).removeClass("vi-wpvs-option-wrap-default").addClass("vi-wpvs-option-wrap-hover")}),jQuery(document).on("mouseleave",".vi-wpvs-variation-wrap-option-available .vi-wpvs-option-wrap",function(a){jQuery(this).hasClass("vi-wpvs-option-wrap-selected")||jQuery(this).hasClass("vi-wpvs-option-wrap-disable")||jQuery(this).removeClass("vi-wpvs-option-wrap-hover").addClass("vi-wpvs-option-wrap-default")}),jQuery(document.body).on("vi_wpvs_variation_form",function(){jQuery(".vi_wpvs_variation_form:not(.vi_wpvs_variation_form_init)").each(function(){jQuery(this).addClass("vi_wpvs_variation_form_init").viwpvs_woo_product_variation_swatches()})}),viwpvs_frontend_init(),jQuery(document).on("woodmart-quick-view-displayed",function(a,b,c){viwpvs_frontend_init()});let a=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(){this.addEventListener("load",function(){this.responseURL.includes("/wp-admin/admin-ajax.php")&&viwpvs_frontend_init()}),a.apply(this,arguments)},jQuery(document).on("ajaxComplete",function(a,b,c){return viwpvs_frontend_init(),!1})}),jQuery(window).on("load",function(){"use strict";viwpvs_frontend_init()});let viwpvs_frontend=function(a){this.form=a,this.variationData=a.data("product_variations"),this.init()};function viwpvs_to_string(a){return a=null==a?"":a.toString()}function viwpvs_show_selected_item(a){if(a.length>0&&a.data("show_selected_item")&&a.find(".vi-wpvs-option-wrap-selected").length){let c=a.parent().parent().find(".vi-wpvs-label-selected");if(c.length)c.html(a.find(".vi-wpvs-option-wrap-selected").data("attribute_label")).removeClass("vi-wpvs-hidden");else{let b=a.parent().parent().find(".label");b.length||(b=a.parent().parent().find("label")),b.length&&b.css({display:"inline-flex",flexWrap:"wrap",alignItems:"center"}).append('<span class="vi-wpvs-label-selected">'+a.find(".vi-wpvs-option-wrap-selected").data("attribute_label")+"</span>")}}}function wpvs_reset_click_var(){vi_vpsw_click.attribute_name="",vi_vpsw_click.attribute_value="",vi_vpsw_click.deselect=!1}viwpvs_frontend.prototype.click="",viwpvs_frontend.prototype.init=function(){let b=this,a=this.form;this.variationData&&(!a.hasClass("vi_wpvs_loop_variation_form")||a.hasClass("vi_wpvs_loop_variation_form")&&a.data("vpvs_find_variation"))&&a.find(".vi-wpvs-option-wrap.vi-wpvs-option-wrap-selected").length===a.find(".vi-wpvs-select-attribute select option:selected").length&&(a.addClass("vi_wpvs_variation_form_has_selected"),a.on("hide_variation viwpvs_hide_variation",function(c){a.hasClass("vi_wpvs_variation_form_has_selected")&&a.find(".vi-wpvs-option-wrap.vi-wpvs-option-wrap-selected").length===a.find(".vi-wpvs-select-attribute select option:selected").length&&(vi_wpvs_frontend_params.prioritize_first_attribute||(a.removeClass("vi_wpvs_variation_form_has_selected"),b.hide_variation()))})),a.find(".vi-wpvs-variation-wrap-wrap").data("hide_outofstock")||a.on("hide_variation viwpvs_hide_variation",function(b){a.find(".vi-wpvs-variation-wrap-wrap").each(function(d,a){let c=jQuery(a).find("select").val(),b=jQuery(a).find(".vi-wpvs-option-wrap.vi-wpvs-option-wrap-selected").data("attribute_value");b&&!c&&jQuery(a).find('select option[value="'+b+'"]').length&&jQuery(a).find("select").val(b).trigger("change")})}),a.on("woocommerce_update_variation_values",function(){b.select_variation_item()}),a.on("check_variations",function(b){setTimeout(function(){if(void 0!==b.data&& void 0!==b.data.variationForm){let c=b.data.variationForm.getChosenAttributes();if(b.data.variationForm.useAjax&&c.count>0&&c.chosenCount>0){for(let e in c.data)if(c.data.hasOwnProperty(e)&&c.data[e]){let f=a.find(`.vi-wpvs-variation-wrap-wrap[data-wpvs_attribute_name="${e}"]`);d(f.find(".vi-wpvs-option-wrap-selected")),viwpvs_show_selected_item(f)}}}},10)}),a.on("viwpvs_variation_select_change",function(b){setTimeout(function(){let b=a.find(".vi-wpvs-option-wrap.vi-wpvs-option-wrap-selected");b.length>0&&b.each(function(b,a){d(jQuery(a))})},10)});let c;function d(b){if("variation_image"===b.data("change_product_image")||"attribute_image"===b.data("change_product_image")){if(a.is(".vi_wpvs_loop_variation_form")){if(b.data("loop_source")){let e=b.data("loop_source"),f=e;b.data("loop_data")&&b.data("loop_data").hasOwnProperty("srcset")&&b.data("loop_data").srcset&&(f=b.data("loop_data").srcset);let d=viwpvs_get_variations.prototype.get_img_product(a,!0);if(d)return jQuery(d).parent().is("picture")&&jQuery(d).parent().find("source").each(function(b,a){jQuery(a).attr({srcset:f})}),setTimeout(function(){d.attr({src:e,srcset:f})},1),!1}}else if("function"==typeof a.wc_variations_image_update&&b.data("loop_data"))return c&&clearTimeout(c),c=setTimeout(function(){a.wc_variations_image_update({image:b.data("loop_data")}),"undefined"!=typeof woodmartThemeModule&&woodmartThemeModule.$document.trigger("wdShowVariationNotQuickView"),a.trigger("viwpvs_main_image_changed_by_attribute",[b])},10),!1}}a.on("found_variation",function(d,a){let b=!0;a&&a.hasOwnProperty("viwpvs_no_image")&&a.viwpvs_no_image&&(b=!1),b&&c&&clearTimeout(c)}),a.on("woocommerce_variation_select_change",function(){let b=a.find(".vi-wpvs-option-wrap.vi-wpvs-option-wrap-selected");b.length>0&&b.each(function(b,a){d(jQuery(a))})}),b.design_variation_item(),a.find(".vi-wpvs-variation-wrap-select-wrap").length&&a.find(".vi-wpvs-variation-wrap-select-wrap").each(function(e,d){let b=jQuery(d),f=b.closest(".vi-wpvs-variation-wrap");b.parent().parent().parent().css({width:"100%"});let a,c;(a=b.find(".vi-wpvs-variation-wrap-option")).attr("data-offset_height")||a.attr("data-offset_height",a.outerHeight()).removeClass("vi-wpvs-select-hidden").addClass("vi-wpvs-hidden"),c=b.find(".vi-wpvs-variation-button-select"),a.find(".vi-wpvs-option-wrap-selected").length&&c.find("span").html(a.find(".vi-wpvs-option-wrap-selected .vi-wpvs-option-select").html()),c.on("click",function(g){if(g.preventDefault(),g.stopPropagation(),a.hasClass("vi-wpvs-variation-wrap-option-show"))jQuery(".vi-wpvs-variation-wrap-option-available").remove(),a.removeClass("vi-wpvs-variation-wrap-option-show");else{let d,c,h,e;d=parseFloat(a.attr("data-offset_height")),c=jQuery(window).scrollTop(),h=jQuery(window).outerHeight(),e=jQuery(this).offset().top-c,jQuery(".vi-wpvs-variation-wrap-option.vi-wpvs-variation-wrap-option-show").removeClass("vi-wpvs-variation-wrap-option-show"),a.addClass("vi-wpvs-variation-wrap-option-show"),jQuery(".vi-wpvs-variation-wrap-option-available").remove();let b=f.clone();b.find(".vi-wpvs-variation-button-select").remove(),b.find(".vi-wpvs-variation-wrap-option").removeClass("vi-wpvs-hidden vi-wpvs-variation-wrap-option-show"),b.addClass("vi-wpvs-variation-wrap-option-available").css({width:jQuery(this).outerWidth(),left:jQuery(this).offset().left}),c>e||c<d||h>e+d+40?(b.toggleClass("vi-wpvs-variation-wrap-select-bottom"),b.css({top:jQuery(this).offset().top+jQuery(this).outerHeight()})):(b.toggleClass("vi-wpvs-variation-wrap-select-top"),b.css({top:jQuery(this).offset().top-a.outerHeight()})),jQuery("body").append(b)}})}),b.design_variation_slider(a),a.find(".vi-wpvs-option-wrap").each(function(e,b){let c,d,f,g;d=(c=jQuery(b).closest(".vi-wpvs-variation-wrap-wrap")).find("select"),c.data("swatch_type"),d.find("option").removeClass("vi-wpvs-option-disabled"),jQuery(b).on("mouseenter",function(){jQuery(this).hasClass("vi-wpvs-option-wrap-selected")||jQuery(this).hasClass("vi-wpvs-option-wrap-disable")||jQuery(this).hasClass("vi-wpvs-product-link")||jQuery(this).removeClass("vi-wpvs-option-wrap-default").addClass("vi-wpvs-option-wrap-hover")}).on("mouseleave",function(){jQuery(this).hasClass("vi-wpvs-option-wrap-selected")||jQuery(this).hasClass("vi-wpvs-option-wrap-disable")||jQuery(this).removeClass("vi-wpvs-option-wrap-hover").addClass("vi-wpvs-option-wrap-default")}).on("click",function(e){wpvs_reset_click_var();let b=jQuery(this);return(e.stopPropagation(),b.is(".vi-wpvs-product-link"))?(location.href=b.data("product_link"),!1):b.hasClass("vi-wpvs-option-wrap-disable")?(e.preventDefault(),e.stopPropagation(),!1):void(b.parent().hasClass("vi-wpvs-variation-wrap-radio")||(e.preventDefault(),e.stopPropagation()),jQuery(".vi-wpvs-variation-wrap-option").addClass("vi-wpvs-hidden"),a.find(".reset_variations").removeClass("vi-wpvs-hidden"),c.find(".vi-wpvs-option-wrap").removeClass("vi-wpvs-option-wrap-selected vi-wpvs-option-wrap-hover").addClass("vi-wpvs-option-wrap-default"),c.find(".vi-wpvs-variation-wrap").hasClass("vi-wpvs-variation-wrap-select")&&c.find(".vi-wpvs-variation-button-select >span").html(b.find(".vi-wpvs-option-select").html()),b.find(".vi-wpvs-option-radio").length>0&&(c.find(".vi-wpvs-option-radio").prop("checked",!1),b.find(".vi-wpvs-option-radio").prop("checked",!0),b.removeClass("vi-wpvs-option-wrap-default").addClass("vi-wpvs-option-wrap-selected")),f=viwpvs_to_string(d.val()),g=viwpvs_to_string(b.data("attribute_value")),vi_vpsw_click.attribute_name=d.data("attribute_name"),vi_vpsw_click.attribute_value=g,g!==f?(b.removeClass("vi-wpvs-option-wrap-default").addClass("vi-wpvs-option-wrap-selected"),d.val(g).trigger("change")):b.parent().hasClass("vi-wpvs-variation-wrap-radio")||(a.hasClass("vi_wpvs_loop_variation_form")?a.data("wpvs_double_click")?(vi_vpsw_click.deselect=!0,d.val("").trigger("change")):b.removeClass("vi-wpvs-option-wrap-default").addClass("vi-wpvs-option-wrap-selected"):c.data("wpvs_double_click")?(vi_vpsw_click.deselect=!0,d.val("").trigger("change")):b.removeClass("vi-wpvs-option-wrap-default").addClass("vi-wpvs-option-wrap-selected")),e.stopPropagation())})}),a.find("select:not(.vi-wpvs-select-attribute):not(.vi-wpvs-variation-style-select)").on("change",function(){setTimeout(function(){b.select_variation_item()},500)}),a.on("click",".reset_variations",function(){wpvs_reset_click_var(),b.select_variation_item(),b.hide_variation()}),jQuery(document).trigger("viwpvs_init_swatches",[a])},viwpvs_frontend.prototype.design_variation_item=function(){let a=this.form;a.find(".vi-wpvs-variation-wrap-wrap").each(function(){let a=jQuery(this),b=a.parent().parent();a.parent().addClass("vi-wpvs-variation-style-content"),a.find(`div.vi-wpvs-select-attribute select[data-attribute_name="${a.data("wpvs_attribute_name")}"]`).addClass("vi-wpvs-select-attribute"),b.addClass(a.data("display_type")),a.data("wpvs_attr_title")||b.find(".label").addClass("vi-wpvs-hidden")}),a.find(".vi-wpvs-option.vi-wpvs-option-color").each(function(c,a){let b=jQuery(a).data("option_color");jQuery(a).css({background:b})}),a.find(".vi-wpvs-variation-wrap-wrap").removeClass("vi-wpvs-hidden")},viwpvs_frontend.prototype.design_variation_slider=function(b){let a=b.find(".vi-wpvs-variation-wrap-slider").closest(".vi-wpvs-variation-wrap-wrap");if(0===a.length)return!1;a.each(function(i,a){let d,e=jQuery(b).innerWidth(),g=jQuery(a).find(".vi-wpvs-variation-wrap").data("out_of_stock"),f=jQuery(a).find(".vi-wpvs-option-wrap").first().innerWidth(),h=jQuery(a).find(".vi-wpvs-option-wrap").length,c=jQuery(a).find(".vi-wpvs-option-wrap.vi-wpvs-option-wrap-selected").index();c=c>0?c:0,jQuery(a).closest(".vi-wpvs-variation-style").hasClass("vi-wpvs-variation-style-horizontal")&&jQuery(a).closest(".vi-wpvs-variation-style").hasClass("vi_wpvs_loop_variation_attr_name_enable")&&(e=80*e/100),h>(d=Math.floor(e/(f+10)))&&(-1===g.search("blur")?jQuery(a).flexslider({namespace:"vi-wpvs-slider-",selector:".vi-wpvs-variation-wrap-slider .vi-wpvs-option-wrap",animation:"slide",animationLoop:!1,startAt:c,itemWidth:f,itemMargin:5,controlNav:!1,maxItems:d,move:1,slideshow:!1,reverse:!1,touch:!0,start:function(a){a.last=h-this.maxItems,a.limit=(this.itemWidth+10)*a.last+10,a.animatingTo=a.currentSlide>a.last?0:a.animatingTo},before:function(b){(h=jQuery(a).find(".vi-wpvs-option-wrap:not(.vi-wpvs-option-wrap-disable)").length)>this.maxItems?(b.last=h-this.maxItems,b.limit=(this.itemWidth+10)*b.last+10,b.animatingTo=b.currentSlide>b.last?0:b.animatingTo):b.animatingTo=0}}):jQuery(a).flexslider({namespace:"vi-wpvs-slider-",selector:".vi-wpvs-variation-wrap-slider .vi-wpvs-option-wrap",animation:"slide",animationLoop:!1,startAt:c,itemWidth:f,itemMargin:5,controlNav:!1,maxItems:d,move:1,slideshow:!1,reverse:!1,touch:!0,start:function(a){a.last=h-this.maxItems,a.limit=(this.itemWidth+10)*a.last+10,a.animatingTo=a.currentSlide>a.last?0:a.animatingTo}}))})},viwpvs_frontend.prototype.select_variation_item=function(){let a=this.form,g=this.variationData;a.find(".vi-wpvs-label-selected").addClass("vi-wpvs-hidden"),a.find(".vi-wpvs-option-wrap-out-of-stock").removeClass("vi-wpvs-option-wrap-out-of-stock"),a.find(".vi-wpvs-option-wrap-backorders").removeClass("vi-wpvs-option-wrap-backorders");let d=vi_wpvs_frontend_params.prioritize_first_attribute,b=a.find(".vi-wpvs-variation-wrap-wrap"),e="",f="";if(b.length<2)d="";else{let c=b.eq(0);e=c.data("wpvs_attribute_name"),f=c.find(".vi-wpvs-option-wrap-selected").data("attribute_value")}b.each(function(R,m){let P=!1,b=jQuery(this);if(b.data("blur_out_backorders")){let B="viwpvs_default"===b.data("swatch_type")?b.find(`select[name="${b.data("wpvs_attribute_name")}"]`):b.find("select.vi-wpvs-select-attribute"),C=viwpvs_to_string(B.data("attribute_name")),D=B.val();if(b.hasClass("vi-wpvs-option-wrap-backorders-attribute-checked")||(b.find(".vi-wpvs-variation-wrap").find(".vi-wpvs-option-wrap").each(function(){let d=jQuery(this),e=viwpvs_to_string(d.data("attribute_value"));if(e){let b=0,c=0;for(let f in g)if(g.hasOwnProperty(f)){let a=g[f];""===a.attributes[C]?(b++,a.hasOwnProperty("viwpvs_on_backorders")&&c++):null!==a.attributes&& void 0!==a.attributes&&viwpvs_to_string(a.attributes[C])===e&&(b++,a.hasOwnProperty("viwpvs_on_backorders")&&c++)}b===c&&d.addClass("vi-wpvs-option-wrap-backorders-attribute")}}),b.addClass("vi-wpvs-option-wrap-backorders-attribute-checked")),D){for(let E in g)if(g.hasOwnProperty(E)){let o=g[E];if(o.attributes[C]===D&&o.hasOwnProperty("viwpvs_on_backorders"))for(let s in o.attributes){let S=o.attributes[s];s!==C&&a.find(`.vi-wpvs-variation-wrap[data-attribute="${s}"]`).find(".vi-wpvs-option-wrap").each(function(){let a=jQuery(this);if(!a.hasClass("vi-wpvs-option-wrap-backorders-attribute")&&!a.hasClass("vi-wpvs-option-wrap-backorders")&&viwpvs_to_string(a.data("attribute_value"))===S){let c=!0;for(let d in g)if(g.hasOwnProperty(d)){let b=g[d];if(b.attributes[C]===D&&b.attributes[s]===viwpvs_to_string(a.data("attribute_value"))&&!b.hasOwnProperty("viwpvs_on_backorders")){c=!1;break}}return c&&a.addClass("vi-wpvs-option-wrap-backorders"),!1}})}}}}if(b.data("hide_outofstock")){let T=jQuery(m).find("select option:not(.vi-wpvs-option-disabled)").map(function(){return jQuery(this).val()});jQuery(m).find(".vi-wpvs-option-wrap:not(.vi-wpvs-product-link)").each(function(c,a){let b=viwpvs_to_string(jQuery(a).data("attribute_value"));jQuery.inArray(b,T)> -1?jQuery(a).removeClass("vi-wpvs-option-wrap-disable"):jQuery(a).removeClass("vi-wpvs-option-wrap-selected").addClass("vi-wpvs-option-wrap-default vi-wpvs-option-wrap-disable")})}else{let U=jQuery(m).find("select option:not(.vi-wpvs-option-disabled)").map(function(){return jQuery(this).val()}),V=b.find(".vi-wpvs-variation-wrap");if(jQuery(m).find(".vi-wpvs-option-wrap:not(.vi-wpvs-product-link)").each(function(e,b){let c=viwpvs_to_string(jQuery(b).data("attribute_value"));jQuery.inArray(c,U)> -1?jQuery(b).removeClass("vi-wpvs-hidden"):d&&0===a.find(".vi-wpvs-variation-wrap").index(V)?(f===c&&(P=!0),jQuery(b).addClass("vi-wpvs-option-wrap-out-of-stock")):jQuery(b).removeClass("vi-wpvs-option-wrap-selected").addClass("vi-wpvs-option-wrap-default vi-wpvs-hidden")}),g){let F="viwpvs_default"===b.data("swatch_type")?b.find(`select[name="${b.data("wpvs_attribute_name")}"]`):b.find("select.vi-wpvs-select-attribute"),G=viwpvs_to_string(F.data("attribute_name")),H=F.val();if(!b.hasClass("vi-wpvs-option-wrap-out-of-stock-attribute-checked")){let I=b.find(".vi-wpvs-variation-wrap");I.find(".vi-wpvs-option-wrap").each(function(){let d=jQuery(this),e=viwpvs_to_string(d.data("attribute_value"));if(e){let b=0,c=0;for(let f in g)if(g.hasOwnProperty(f)){let a=g[f];null!==a.attributes&& void 0!==a.attributes&&(""===a.attributes[G]?(b++,(a.hasOwnProperty("is_purchasable")&&!a.is_purchasable||a.hasOwnProperty("is_in_stock")&&!a.is_in_stock||a.hasOwnProperty("viwpvs_not_available"))&&c++):viwpvs_to_string(a.attributes[G])===e&&(b++,a.hasOwnProperty("viwpvs_not_available")&&c++))}b===c&&d.addClass("vi-wpvs-option-wrap-out-of-stock-attribute")}}),d&&0===a.find(".vi-wpvs-variation-wrap").index(I)||b.addClass("vi-wpvs-option-wrap-out-of-stock-attribute-checked")}if(H){for(let J in g)if(g.hasOwnProperty(J)){let p=g[J];if(p.attributes[G]===H&&p.hasOwnProperty("viwpvs_not_available"))for(let t in p.attributes){let W=p.attributes[t];if(t!==G){let Q=a.find(`.vi-wpvs-variation-wrap[data-attribute="${t}"]`);Q.find(".vi-wpvs-option-wrap:not(.vi-wpvs-hidden)").each(function(){let b=jQuery(this);if(b.hasClass("vi-wpvs-option-wrap-out-of-stock-attribute")||b.hasClass("vi-wpvs-option-wrap-out-of-stock"))d&&0===a.find(".vi-wpvs-variation-wrap").index(Q)&&vi_vpsw_click.attribute_name&&vi_vpsw_click.attribute_value&&f&&b.data("attribute_value")===f&&(P=!0);else if(viwpvs_to_string(b.data("attribute_value"))===W){let e=!0;for(let h in g)if(g.hasOwnProperty(h)){let c=g[h];if(c.attributes[G]===H&&c.attributes[t]===viwpvs_to_string(b.data("attribute_value"))&&!c.hasOwnProperty("viwpvs_not_available")){e=!1;break}}if(e&&(d&&0===a.find(".vi-wpvs-variation-wrap").index(Q)&&vi_vpsw_click.attribute_name&&vi_vpsw_click.attribute_value&&f?P=!0:b.addClass("vi-wpvs-option-wrap-out-of-stock")),!P)return!1}})}}}}}}if(P&&!vi_vpsw_click.deselect){let n=e,K=f;wpvs_reset_click_var();let c={};a.find(".vi-wpvs-variation-wrap-wrap").map(function(){let a=jQuery(this);"viwpvs_default"===a.data("swatch_type")?a.find(`select[name="${a.data("wpvs_attribute_name")}"]`):a.find("select.vi-wpvs-select-attribute");let b=viwpvs_to_string(a.data("wpvs_attribute_name")),d=a.find(".vi-wpvs-option-wrap-selected").data("attribute_value");b!==n&&d&&(c[b]=d)});let i=[];for(let u in c)if(c.hasOwnProperty(u)){let v={};v[n]=K,v[u]=c[u],i.push(v)}if(3===Object.values(c).length)for(let q=0;q<i.length;q++)for(let r in c)c.hasOwnProperty(r)&&(i[q].hasOwnProperty(r)||(i[q][r]=c[r]));let h;if(i.length>0)for(let j=0;j<i.length;j++){for(let L in g)if(g.hasOwnProperty(L)){let w=g[L];if(!w.hasOwnProperty("viwpvs_not_available")){let M=0;for(let x in i[j])i[j].hasOwnProperty(x)&&w.attributes[x]===i[j][x]&&M++;if(M===Object.values(i[j]).length){h=w;break}}if(h)break}if(h)break}if(!h){for(let N in g)if(g.hasOwnProperty(N)){let y=g[N];if(y.attributes[n]===K&&!y.hasOwnProperty("viwpvs_not_available")){h=y;break}}}let k=1;if(h){let O=[n];for(let l in h.attributes)h.attributes.hasOwnProperty(l)&&l!==n&&c.hasOwnProperty(l)&&(c[l]===h.attributes[l]?O.push(l):(setTimeout(function(){a.find(`.vi-wpvs-variation-wrap[data-attribute="${l}"]`).find(`.vi-wpvs-option-wrap[data-attribute_value="${c[l]}"]`).click()},10*k),k++));for(let z in h.attributes)h.attributes.hasOwnProperty(z)&&0>O.indexOf(z)&&c.hasOwnProperty(z)&&(setTimeout(function(){a.find(`.vi-wpvs-variation-wrap[data-attribute="${z}"]`).find(`.vi-wpvs-option-wrap[data-attribute_value="${h.attributes[z]}"]`).click()},10*k),k++)}else for(let A in g[0].attributes)g[0].attributes.hasOwnProperty(A)&&A!==n&&c.hasOwnProperty(A)&&(setTimeout(function(){a.find(`.vi-wpvs-variation-wrap[data-attribute="${A}"]`).find(`.vi-wpvs-option-wrap[data-attribute_value="${c[A]}"]`).click()},10*k),k++)}viwpvs_show_selected_item(jQuery(m))})},viwpvs_frontend.prototype.hide_variation=function(){let a=this.form;a.find(".reset_variations").addClass("vi-wpvs-hidden"),a.find(".vi-wpvs-option-wrap").removeClass("vi-wpvs-option-wrap-selected vi-wpvs-option-wrap-out-of-stock").addClass("vi-wpvs-option-wrap-default"),a.find(".vi-wpvs-option-radio").prop("checked",!1),a.find(".vi-wpvs-variation-wrap-option").addClass("vi-wpvs-hidden"),a.find(".vi-wpvs-variation-button-select >span").html(a.find(".vi-wpvs-option-select:first-child").html()),a.find(".vi-wpvs-variation-style .vi-wpvs-label-selected").addClass("vi-wpvs-hidden")},jQuery.fn.viwpvs_woo_product_variation_swatches=function(){return new viwpvs_frontend(this),this}